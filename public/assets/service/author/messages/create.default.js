const _0xcf8ace = _0x2a3b; (function (_0x3b239a, _0x1bb283) { const _0xa254cc = _0x2a3b, _0x2b2cd2 = _0x3b239a(); while (!![]) { try { const _0xc272d7 = parseInt(_0xa254cc(0x171)) / 0x1 + parseInt(_0xa254cc(0x191)) / 0x2 * (parseInt(_0xa254cc(0x185)) / 0x3) + -parseInt(_0xa254cc(0x197)) / 0x4 * (-parseInt(_0xa254cc(0x16c)) / 0x5) + parseInt(_0xa254cc(0x180)) / 0x6 * (-parseInt(_0xa254cc(0x17a)) / 0x7) + -parseInt(_0xa254cc(0x178)) / 0x8 + -parseInt(_0xa254cc(0x16a)) / 0x9 + parseInt(_0xa254cc(0x196)) / 0xa; if (_0xc272d7 === _0x1bb283) break; else _0x2b2cd2['push'](_0x2b2cd2['shift']()); } catch (_0x1ef47e) { _0x2b2cd2['push'](_0x2b2cd2['shift']()); } } }(_0x5874, 0x80acf)); function _0x2a3b(_0xf836bc, _0x3190bc) { const _0x5874ea = _0x5874(); return _0x2a3b = function (_0x2a3bf9, _0x431805) { _0x2a3bf9 = _0x2a3bf9 - 0x16a; let _0x225de0 = _0x5874ea[_0x2a3bf9]; return _0x225de0; }, _0x2a3b(_0xf836bc, _0x3190bc); } const createMessageButton = document[_0xcf8ace(0x16e)](_0xcf8ace(0x172)), userAddForm = document['querySelector']('#user-add-form'), userIdBox = document[_0xcf8ace(0x16e)](_0xcf8ace(0x174)), userIdList = document['querySelector']('#user-list'), userList = []; function _0x5874() { const _0x2a92e8 = ['error', 'text-sm', '8ascvzB', 'stringify', 'splice', 'addEventListener', 'createElement', '9060890ZNEwnJ', '24888eurBtW', '/api/v4/messages', 'success', '3732129FAZTkI', '/author/messages/', '560CmdLDl', 'preventDefault', 'querySelector', 'text-red-500', 'push', '208329oAaOKi', '#create-message-button', 'textContent', '#user-id', 'application/json', 'json', 'value', '8176088slCDgN', 'add', '7urhlII', 'name', 'flex', 'border-b', 'click', 'ユーザーを追加してください', '4720362QXlgrA', 'classList', 'appendChild', 'ユーザーの取得に失敗しました', 'justify-between', '704394ZGIoCH', 'indexOf', 'text-gray-500', 'removeChild', 'location', 'button', 'data', 'includes', 'message', 'href']; _0x5874 = function () { return _0x2a92e8; }; return _0x5874(); } function addUserList(_0x3e57fa) { const _0xd2cada = _0xcf8ace, _0x2a9310 = document[_0xd2cada(0x195)]('div'); _0x2a9310[_0xd2cada(0x181)]['add'](_0xd2cada(0x17c), 'items-center', _0xd2cada(0x184), 'p-2', _0xd2cada(0x17d)); const _0x4d86b9 = document[_0xd2cada(0x195)]('div'); _0x4d86b9[_0xd2cada(0x181)]['add'](_0xd2cada(0x190), _0xd2cada(0x187)), _0x4d86b9[_0xd2cada(0x173)] = _0x3e57fa; const _0x5c445b = document['createElement'](_0xd2cada(0x18a)); _0x5c445b[_0xd2cada(0x181)][_0xd2cada(0x179)](_0xd2cada(0x16f), _0xd2cada(0x190)), _0x5c445b[_0xd2cada(0x173)] = '削除', _0x5c445b[_0xd2cada(0x194)](_0xd2cada(0x17e), () => { const _0x16e420 = _0xd2cada; userList[_0x16e420(0x193)](userList[_0x16e420(0x186)](_0x3e57fa), 0x1), userIdList[_0x16e420(0x188)](_0x2a9310); }), _0x2a9310[_0xd2cada(0x182)](_0x4d86b9), _0x2a9310[_0xd2cada(0x182)](_0x5c445b), userIdList[_0xd2cada(0x182)](_0x2a9310); } userAddForm['addEventListener']('submit', async _0x7f403f => { const _0x4ae995 = _0xcf8ace; _0x7f403f[_0x4ae995(0x16d)](); const _0x3228ea = userIdBox[_0x4ae995(0x177)]; if (userList[_0x4ae995(0x18c)](_0x3228ea)) { alert('すでに追加されています'); return; } if (_0x3228ea === '') return; try { const _0x21861e = await fetch('/api/v2/authors/' + _0x3228ea), _0x4eedb = await _0x21861e[_0x4ae995(0x176)](); if (!_0x4eedb[_0x4ae995(0x199)]) { alert(_0x4eedb[_0x4ae995(0x18d)]); return; } const { user: _0x4d7df9 } = _0x4eedb[_0x4ae995(0x18b)]; addUserList(_0x4d7df9[_0x4ae995(0x17b)]), userList[_0x4ae995(0x170)](_0x3228ea); } catch (_0x3bc536) { console[_0x4ae995(0x18f)](_0x3bc536), alert(_0x4ae995(0x183)); } }), createMessageButton['addEventListener'](_0xcf8ace(0x17e), async _0x453fb8 => { const _0x188116 = _0xcf8ace; _0x453fb8['preventDefault'](); if (userList['length'] === 0x0) { alert(_0x188116(0x17f)); return; } try { const _0x4ccf4e = await fetch(_0x188116(0x198), { 'method': 'POST', 'headers': { 'Content-Type': _0x188116(0x175) }, 'body': JSON[_0x188116(0x192)]({ 'userList': userList }) }), _0x48df56 = await _0x4ccf4e['json'](); if (!_0x48df56[_0x188116(0x199)]) { alert(_0x48df56[_0x188116(0x18d)]); return; } window[_0x188116(0x189)][_0x188116(0x18e)] = _0x188116(0x16b) + _0x48df56[_0x188116(0x18b)][_0x188116(0x18d)]['id']; } catch (_0x1f5826) { console[_0x188116(0x18f)](_0x1f5826), alert('メッセージの作成に失敗しました'); } });